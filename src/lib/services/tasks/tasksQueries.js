import { supabase } from '@/lib/customSupabaseClient';

export const TASK_SELECT_FIELDS = `
  id,
  created_at,
  brand_id,
  client_id,
  title,
  description,
  brief,
  status,
  priority,
  request_date,
  due_date,
  assignment_date,
  assigned_to,
  assigned_by_user,
  service_id,
  price,
  custom_price,
  notes,
  ai_automation,
  calendar_event_id,
  calendar_event_title,
  social_network,
  campaign_theme,
  header_text,
  descriptive_text,
  call_to_action,
  related_resource_id,
  origen,
  content_format,
  platform,
  dimensions,
  custom_dimensions,
  message_tone,
  key_message,
  visual_style,
  visual_references,
  location,
  exact_address,
  session_date,
  session_time,
  production_type,
  production_objective,
  technical_requirements,
  equipment_needed,
  involved_personnel,
  reference_material,
  task_objective,
  deliverable_type,
  final_format,
  central_theme,
  reference_information,
  previous_documents,
  website_url,
  task_type,
  cms_tool,
  site_type,
  work_focus,
  specific_activities,
  base_structure,
  follow_up_type,
  specific_changes,
  brand:brands!fk_tasks_brand_id(
    id,
    name,
    client_id,
    client:clients!fk_brands_client_id(name)
  ),
  assigned_collaborator:collaborators!fk_tasks_assigned_to(
    id,
    name,
    email
  ),
  service:services!fk_tasks_service_id(
    id,
    name,
    description
  ),
  related_resource:resources!fk_tasks_related_resource_id(
    id,
    name,
    file_url
  )
`;

export const TASK_SELECT_FIELDS_DETAILED = `
  id,
  created_at,
  brand_id,
  client_id,
  title,
  description,
  brief,
  status,
  priority,
  request_date,
  due_date,
  assignment_date,
  assigned_to,
  assigned_by_user,
  service_id,
  price,
  custom_price,
  notes,
  ai_automation,
  calendar_event_id,
  calendar_event_title,
  social_network,
  campaign_theme,
  header_text,
  descriptive_text,
  call_to_action,
  related_resource_id,
  origen,
  content_format,
  platform,
  dimensions,
  custom_dimensions,
  message_tone,
  key_message,
  visual_style,
  visual_references,
  location,
  exact_address,
  session_date,
  session_time,
  production_type,
  production_objective,
  technical_requirements,
  equipment_needed,
  involved_personnel,
  reference_material,
  task_objective,
  deliverable_type,
  final_format,
  central_theme,
  reference_information,
  previous_documents,
  website_url,
  task_type,
  cms_tool,
  site_type,
  work_focus,
  specific_activities,
  base_structure,
  follow_up_type,
  specific_changes,
  brand:brands!fk_tasks_brand_id(
    id,
    name,
    client_id,
    client:clients!fk_brands_client_id(name)
  ),
  assigned_collaborator:collaborators!fk_tasks_assigned_to(
    id,
    name,
    email,
    specialty
  ),
  service:services!fk_tasks_service_id(
    id,
    name,
    description,
    base_price
  ),
  related_resource:resources!fk_tasks_related_resource_id(
    id,
    name,
    file_url,
    file_type
  )
`;

export const buildTaskQuery = (selectFields = TASK_SELECT_FIELDS) => {
  return supabase.from('tasks').select(selectFields);
};